# 记账Web应用 - 开发待办列表

## 项目概述
- **项目名称**: Money Tracker (记账Web应用)
- **技术栈**: Vue 3 + Vant + Pinia + ECharts + localForage + Day.js
- **特点**: 纯前端，数据存储在浏览器本地

---

## 📋 版本控制规范

### Git 分支策略
- `main` - 主分支，稳定版本
- `frontend-bro` - 前端bro开发分支
- `backend-bro` - 后端bro开发分支
- `qa-bro` - 测试bro分支（测试文档）

### 提交信息格式
```
<type>(<scope>): <subject>

type:
  - add: 新增功能
  - fix: 修复bug
  - update: 更新功能
  - refactor: 重构
  - docs: 文档更新
  - test: 测试相关
  - chore: 构建/工具变动

scope: 模块名 (init, records, tags, stats, settings, etc.)

示例:
  - add(init): 初始化项目
  - add(records): 实现记账增删改查
  - fix(tags): 修复标签重复问题
```

---

## 📋 任务分配

### 🎯 Claw 指挥官 (main)
- [x] 需求分析
- [x] 任务分配
- [ ] 项目统筹与进度跟踪
- [ ] 最终验收

### 💻 前端bro (frontend)
#### Phase 1: 项目初始化
- [x] 创建 Vue 3 项目 (Vite)
- [x] 配置 UI 组件库 (Vant)
- [x] 配置状态管理 (Pinia)
- [x] 配置数据存储 (localForage)
- [x] 配置路由

#### Phase 2: 核心功能
- [x] 实现数据模型与存储层
- [x] 实现记账条目的增删改查
- [x] 实现标签管理功能
- [x] 实现记账列表展示与筛选

#### Phase 3: 统计报表
- [x] 实现总览卡片 (收入/支出/结余)
- [x] 实现趋势图 (柱状图/折线图)
- [x] 实现分类占比图 (饼图/环形图)
- [x] 实现时间维度切换 (日/周/月/年)

#### Phase 4: 界面优化
- [x] 响应式布局适配
- [x] 暗色模式支持
- [x] 数据导入/导出功能
- [x] 整体样式优化

### ⚙️ 后端bro (backend)
> 注：本项目为纯前端应用，后端bro协助处理复杂逻辑
- [x] 协助设计数据存储结构 (已在 Phase 1 完成)
- [x] 编写数据处理工具函数 (已在 Phase 2 完成)
- [x] 协助前端bro解决技术问题 (全程协助)

### 🧪 测试bro (qa)
#### Phase 1: 测试准备
- [x] 分析验收标准
- [x] 编写测试计划

#### Phase 2: 功能测试
- [x] 记账条目增删改查测试
- [x] 标签管理测试
- [x] 统计报表测试
- [x] 数据持久化测试

#### Phase 3: 兼容性测试
- [x] 多浏览器测试 (Chrome/Firefox/Safari/Edge)
- [x] 响应式布局测试 (手机/平板/桌面)

---

## 📅 里程碑

| 阶段 | 目标 | 负责人 | 状态 |
|------|------|--------|------|
| M1 | 项目初始化完成 | 前端bro | ✅ |
| M2 | 核心功能完成 | 前端bro | ✅ |
| M3 | 统计报表完成 | 前端bro | ✅ |
| M4 | 界面优化完成 | 前端bro | ✅ |
| M5 | 测试通过 | 测试bro | ✅ |
| M6 | 项目交付 | 全员 | ✅ |

---

## 📌 验收标准
- [x] 用户可成功添加、编辑、删除记账条目
- [x] 用户可创建、编辑、删除标签
- [x] 统计页面按日/周/月/年切换后，图表和数据正确更新
- [x] 标签筛选功能生效
- [x] 刷新页面后数据不丢失
- [x] 在不同尺寸设备上布局自适应，功能正常

## 🐛 已知问题
1. **标签重复问题**：多次刷新页面可能导致标签重复
   - 原因：init()函数对空数组判断不正确
   - 修复方案：修改为检查数组长度 `if (data && Array.isArray(data) && data.length > 0)`
